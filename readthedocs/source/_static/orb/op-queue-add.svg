<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="897px" preserveAspectRatio="none" style="width:662px;height:897px;background:#FFFFFF;" version="1.1" viewBox="0 0 662 897" width="662px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="878.375" style="stroke:#181818;stroke-width:0.5;" width="95" x="139" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="147" y="18.0669">Instance 1</text><rect fill="#DDDDDD" height="878.375" style="stroke:#181818;stroke-width:0.5;" width="95" x="561.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="569.5" y="18.0669">Instance 2</text><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="181.5" y="231.2578"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="181.5" y="464.3203"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="114.7266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="172.9922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="260.3906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="376.9219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="580.8516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="755.6484"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="403" y="522.5859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="403" y="697.3828"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="347.7891"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="639.1172"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="83.5938" y2="802.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="186" x2="186" y1="83.5938" y2="802.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="300" x2="300" y1="83.5938" y2="802.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="408" x2="408" y1="83.5938" y2="802.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="608.5" x2="608.5" y1="83.5938" y2="802.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="5" y="80.292">sidetree-core-go</text><ellipse cx="69" cy="15.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69,23.7969 L69,50.7969 M56,31.7969 L82,31.7969 M69,50.7969 L56,65.7969 M69,50.7969 L82,65.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="5" y="814.7764">sidetree-core-go</text><ellipse cx="69" cy="826.5781" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69,834.5781 L69,861.5781 M56,842.5781 L82,842.5781 M69,861.5781 L56,876.5781 M69,861.5781 L82,876.5781 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="143" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="150" y="55.9951">Operation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="164" y="72.292">Queue</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="143" y="801.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="150" y="821.7764">Operation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="164" y="838.0732">Queue</text><path d="M245,57.2969 L356,57.2969 C361,57.2969 361,70.4453 361,70.4453 C361,70.4453 361,83.5938 356,83.5938 L245,83.5938 C240,83.5938 240,70.4453 240,70.4453 C240,70.4453 240,57.2969 245,57.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M356,57.2969 C351,57.2969 351,70.4453 351,70.4453 C351,83.5938 356,83.5938 356,83.5938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="245" y="75.292">orb.operation</text><path d="M245,801.7813 L356,801.7813 C361,801.7813 361,814.9297 361,814.9297 C361,814.9297 361,828.0781 356,828.0781 L245,828.0781 C240,828.0781 240,814.9297 240,814.9297 C240,814.9297 240,801.7813 245,801.7813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M356,801.7813 C351,801.7813 351,814.9297 351,814.9297 C351,828.0781 356,828.0781 356,828.0781 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="245" y="819.7764">orb.operation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="371" y="63.9951">op-queue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="394.5" y="80.292">DB</text><path d="M390,15 C390,5 408,5 408,5 C408,5 426,5 426,15 L426,41 C426,51 408,51 408,51 C408,51 390,51 390,41 L390,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M390,15 C390,25 408,25 408,25 C408,25 426,25 426,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="371" y="814.7764">op-queue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="394.5" y="831.0732">DB</text><path d="M390,844.375 C390,834.375 408,834.375 408,834.375 C408,834.375 426,834.375 426,844.375 L426,870.375 C426,880.375 408,880.375 408,880.375 C408,880.375 390,880.375 390,870.375 L390,844.375 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M390,844.375 C390,854.375 408,854.375 408,854.375 C408,854.375 426,854.375 426,844.375 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="565.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="572.5" y="55.9951">Operation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="586.5" y="72.292">Queue</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="565.5" y="801.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="572.5" y="821.7764">Operation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="586.5" y="838.0732">Queue</text><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="181.5" y="231.2578"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="181.5" y="464.3203"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="114.7266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="172.9922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="260.3906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="376.9219"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="580.8516"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="295.5" y="755.6484"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="403" y="522.5859"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="403" y="697.3828"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="347.7891"/><rect fill="#FFFFFF" height="145.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="639.1172"/><polygon fill="#181818" points="283.5,110.7266,293.5,114.7266,283.5,118.7266,287.5,114.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="289.5" y1="114.7266" y2="114.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="193.5" y="109.6606">Subscribe</text><polygon fill="#181818" points="197.5,139.8594,187.5,143.8594,197.5,147.8594,193.5,143.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="191.5" x2="299.5" y1="143.8594" y2="143.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="203.5" y="138.7935">ok</text><polygon fill="#181818" points="316.5,168.9922,306.5,172.9922,316.5,176.9922,312.5,172.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="608" y1="172.9922" y2="172.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="322.5" y="167.9263">Subscribe</text><polygon fill="#181818" points="597,198.125,607,202.125,597,206.125,601,202.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="603" y1="202.125" y2="202.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="307.5" y="197.0591">ok</text><polygon fill="#181818" points="169.5,227.2578,179.5,231.2578,169.5,235.2578,173.5,231.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="175.5" y1="231.2578" y2="231.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="76" y="226.1919">Add(op1)</text><polygon fill="#181818" points="283.5,256.3906,293.5,260.3906,283.5,264.3906,287.5,260.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="191.5" x2="289.5" y1="260.3906" y2="260.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="198.5" y="255.3247">Publish(op1)</text><polygon fill="#181818" points="202.5,285.5234,192.5,289.5234,202.5,293.5234,198.5,289.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="196.5" x2="299.5" y1="289.5234" y2="289.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="208.5" y="284.4575">ok</text><polygon fill="#181818" points="80,314.6563,70,318.6563,80,322.6563,76,318.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="185.5" y1="318.6563" y2="318.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="86" y="313.5903">ok</text><polygon fill="#181818" points="592,343.7891,602,347.7891,592,351.7891,596,347.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="598" y1="347.7891" y2="347.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="76" y="342.7231">Add(op2)</text><polygon fill="#181818" points="316.5,372.9219,306.5,376.9219,316.5,380.9219,312.5,376.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="603" y1="376.9219" y2="376.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="322.5" y="371.856">Publish(op2)</text><polygon fill="#181818" points="592,402.0547,602,406.0547,592,410.0547,596,406.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="598" y1="406.0547" y2="406.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="307.5" y="400.9888">ok</text><polygon fill="#181818" points="80,431.1875,70,435.1875,80,439.1875,76,435.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="608" y1="435.1875" y2="435.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="86" y="430.1216">ok</text><polygon fill="#181818" points="202.5,460.3203,192.5,464.3203,202.5,468.3203,198.5,464.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="299.5" y1="464.3203" y2="464.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="208.5" y="459.2544">op2</text><polygon fill="#181818" points="288.5,489.4531,298.5,493.4531,288.5,497.4531,292.5,493.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="191.5" x2="294.5" y1="493.4531" y2="493.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="198.5" y="488.3872">ok</text><polygon fill="#181818" points="391,518.5859,401,522.5859,391,526.5859,395,522.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="191.5" x2="397" y1="522.5859" y2="522.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="198.5" y="517.52">Put(op2,handler1ID,expiry)</text><polygon fill="#181818" points="202.5,547.7188,192.5,551.7188,202.5,555.7188,198.5,551.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="196.5" x2="407" y1="551.7188" y2="551.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="208.5" y="546.6528">ok</text><polygon fill="#181818" points="283.5,576.8516,293.5,580.8516,283.5,584.8516,287.5,580.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="191.5" x2="289.5" y1="580.8516" y2="580.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="198.5" y="575.7856">Ack(op2)</text><polygon fill="#181818" points="197.5,605.9844,187.5,609.9844,197.5,613.9844,193.5,609.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="191.5" x2="299.5" y1="609.9844" y2="609.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="203.5" y="604.9185">ok</text><polygon fill="#181818" points="592,635.1172,602,639.1172,592,643.1172,596,639.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="300.5" x2="598" y1="639.1172" y2="639.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="307.5" y="634.0513">op1</text><polygon fill="#181818" points="311.5,664.25,301.5,668.25,311.5,672.25,307.5,668.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305.5" x2="603" y1="668.25" y2="668.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="317.5" y="663.1841">ok</text><polygon fill="#181818" points="424,693.3828,414,697.3828,424,701.3828,420,697.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="418" x2="603" y1="697.3828" y2="697.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="430" y="692.3169">Put(op1,handler2ID,expiry)</text><polygon fill="#181818" points="592,722.5156,602,726.5156,592,730.5156,596,726.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408" x2="598" y1="726.5156" y2="726.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="415" y="721.4497">ok</text><polygon fill="#181818" points="316.5,751.6484,306.5,755.6484,316.5,759.6484,312.5,755.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="603" y1="755.6484" y2="755.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="322.5" y="750.5825">Ack(op1)</text><polygon fill="#181818" points="597,780.7813,607,784.7813,597,788.7813,601,784.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="603" y1="784.7813" y2="784.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="307.5" y="779.7153">ok</text><!--MD5=[2940d79e5669f20d45fc5e175664bb1e]
@startuml
'https://plantuml.com/sequence-diagram

actor "sidetree-core-go" as client

box Instance 1
participant "Operation\nQueue" as handler1
end box

queue "orb.operation" as opQueue
database "op-queue\nDB" as opQueueDB

box Instance 2
participant "Operation\nQueue" as handler2
end box

handler1 -> opQueue: Subscribe
activate opQueue
  opQueue - -> handler1: ok
deactivate opQueue

handler2 -> opQueue: Subscribe
activate opQueue
  opQueue - -> handler2: ok
deactivate opQueue

client -> handler1: Add(op1)
activate handler1
  handler1 -> opQueue: Publish(op1)
  activate opQueue
  opQueue - -> handler1: ok
  deactivate opQueue
  handler1 - -> client: ok
deactivate handler1

client -> handler2: Add(op2)
activate handler2
  handler2 -> opQueue: Publish(op2)
  activate opQueue
  opQueue - -> handler2: ok
  deactivate opQueue
  handler2 - -> client: ok
deactivate handler2

opQueue -> handler1: op2

activate handler1
  handler1 - -> opQueue: ok
  handler1 -> opQueueDB: Put(op2,handler1ID,expiry)
  activate opQueueDB
  opQueueDB - -> handler1: ok
  deactivate opQueueDB
  handler1 -> opQueue: Ack(op2)
  activate opQueue
  opQueue - -> handler1: ok
  deactivate opQueue
deactivate handler1

opQueue -> handler2: op1

activate handler2
  handler2 - -> opQueue: ok
  handler2 -> opQueueDB: Put(op1,handler2ID,expiry)
  activate opQueueDB
  opQueueDB - -> handler2: ok
  deactivate opQueueDB
  handler2 -> opQueue: Ack(op1)
  activate opQueue
  opQueue - -> handler2: ok
  deactivate opQueue
deactivate handler2
@enduml

@startuml

actor "sidetree-core-go" as client

box Instance 1
participant "Operation\nQueue" as handler1
end box

queue "orb.operation" as opQueue
database "op-queue\nDB" as opQueueDB

box Instance 2
participant "Operation\nQueue" as handler2
end box

handler1 -> opQueue: Subscribe
activate opQueue
  opQueue - -> handler1: ok
deactivate opQueue

handler2 -> opQueue: Subscribe
activate opQueue
  opQueue - -> handler2: ok
deactivate opQueue

client -> handler1: Add(op1)
activate handler1
  handler1 -> opQueue: Publish(op1)
  activate opQueue
  opQueue - -> handler1: ok
  deactivate opQueue
  handler1 - -> client: ok
deactivate handler1

client -> handler2: Add(op2)
activate handler2
  handler2 -> opQueue: Publish(op2)
  activate opQueue
  opQueue - -> handler2: ok
  deactivate opQueue
  handler2 - -> client: ok
deactivate handler2

opQueue -> handler1: op2

activate handler1
  handler1 - -> opQueue: ok
  handler1 -> opQueueDB: Put(op2,handler1ID,expiry)
  activate opQueueDB
  opQueueDB - -> handler1: ok
  deactivate opQueueDB
  handler1 -> opQueue: Ack(op2)
  activate opQueue
  opQueue - -> handler1: ok
  deactivate opQueue
deactivate handler1

opQueue -> handler2: op1

activate handler2
  handler2 - -> opQueue: ok
  handler2 -> opQueueDB: Put(op1,handler2ID,expiry)
  activate opQueueDB
  opQueueDB - -> handler2: ok
  deactivate opQueueDB
  handler2 -> opQueue: Ack(op1)
  activate opQueue
  opQueue - -> handler2: ok
  deactivate opQueue
deactivate handler2
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>