<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1053px" preserveAspectRatio="none" style="width:981px;height:1053px;background:#FFFFFF;" version="1.1" viewBox="0 0 981 1053" width="981px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1041.6406" style="stroke:#181818;stroke-width:0.5;" width="309.5" x="199" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="318.25" y="18.0669">Domain1</text><rect fill="#DDDDDD" height="1041.6406" style="stroke:#181818;stroke-width:0.5;" width="231" x="510.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="593" y="18.0669">Domain2</text><rect fill="#FFFFFF" height="1041.6406" style="stroke:#181818;stroke-width:0.5;" width="232" x="743.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="65" x="824.5" y="18.0669">Domain3</text><rect fill="#FFFFFF" height="318.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="66.4297"/><rect fill="#FFFFFF" height="155.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="472.5547"/><rect fill="#FFFFFF" height="211.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="784.1484"/><rect fill="#FFFFFF" height="62.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="422" y="932.9453"/><rect fill="#FFFFFF" height="486.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="548" y="87.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="707" y="414.2891"/><rect fill="#FFFFFF" height="529.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="781.5" y="283.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="940.5" y="725.8828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="242" x2="242" y1="56.4297" y2="1013.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="426.5" x2="426.5" y1="56.4297" y2="1013.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="552.5" x2="552.5" y1="56.4297" y2="1013.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="711.5" x2="711.5" y1="56.4297" y2="1013.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="786.5" x2="786.5" y1="56.4297" y2="1013.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="945.5" x2="945.5" y1="56.4297" y2="1013.3438"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="203" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="210" y="45.1279">Domain1</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="203" y="1012.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="210" y="1032.3389">Domain1</text><path d="M354.5,30.1328 L499.5,30.1328 C504.5,30.1328 504.5,43.2813 504.5,43.2813 C504.5,43.2813 504.5,56.4297 499.5,56.4297 L354.5,56.4297 C349.5,56.4297 349.5,43.2813 349.5,43.2813 C349.5,43.2813 349.5,30.1328 354.5,30.1328 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M499.5,30.1328 C494.5,30.1328 494.5,43.2813 494.5,43.2813 C494.5,56.4297 499.5,56.4297 499.5,56.4297 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="354.5" y="48.1279">orb.anchor_linkset</text><path d="M354.5,1012.3438 L499.5,1012.3438 C504.5,1012.3438 504.5,1025.4922 504.5,1025.4922 C504.5,1025.4922 504.5,1038.6406 499.5,1038.6406 L354.5,1038.6406 C349.5,1038.6406 349.5,1025.4922 349.5,1025.4922 C349.5,1025.4922 349.5,1012.3438 354.5,1012.3438 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M499.5,1012.3438 C494.5,1012.3438 494.5,1025.4922 494.5,1025.4922 C494.5,1038.6406 499.5,1038.6406 499.5,1038.6406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="354.5" y="1030.3389">orb.anchor_linkset</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="514.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="521.5" y="45.1279">Domain2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="514.5" y="1012.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="521.5" y="1032.3389">Domain2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="686.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="693.5" y="45.1279">VCT2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="686.5" y="1012.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="693.5" y="1032.3389">VCT2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="747.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="754.5" y="45.1279">Domain3</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="747.5" y="1012.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="754.5" y="1032.3389">Domain3</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="919.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="926.5" y="45.1279">VCT3</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="919.5" y="1012.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="926.5" y="1032.3389">VCT3</text><rect fill="#FFFFFF" height="318.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="66.4297"/><rect fill="#FFFFFF" height="155.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="472.5547"/><rect fill="#FFFFFF" height="211.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="237" y="784.1484"/><rect fill="#FFFFFF" height="62.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="422" y="932.9453"/><rect fill="#FFFFFF" height="486.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="548" y="87.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="707" y="414.2891"/><rect fill="#FFFFFF" height="529.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="781.5" y="283.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="940.5" y="725.8828"/><polygon fill="#181818" points="536,83.5625,546,87.5625,536,91.5625,540,87.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="542" y1="87.5625" y2="87.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="254" y="82.4966">Offer activity</text><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="600" y1="146.9609" y2="146.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="600" x2="600" y1="146.9609" y2="159.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="600" y1="159.9609" y2="159.9609"/><polygon fill="#181818" points="569,155.9609,559,159.9609,569,163.9609,565,159.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="565" y="111.6294">Authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="565" y="126.7622">Domain1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="565" y="141.895">using HTTP signature</text><polygon fill="#181818" points="258,185.0938,248,189.0938,258,193.0938,254,189.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="252" x2="547" y1="189.0938" y2="189.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="264" y="184.0278">OK</text><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="600" y1="237.4258" y2="237.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="600" x2="600" y1="237.4258" y2="250.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="600" y1="250.4258" y2="250.4258"/><polygon fill="#181818" points="569,246.4258,559,250.4258,569,254.4258,565,250.4258" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="565" y="217.2271">Authorize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="565" y="232.3599">Domain1</text><path d="M366,202.0938 L366,257.0938 L543,257.0938 L543,212.0938 L533,202.0938 L366,202.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M533,202.0938 L533,212.0938 L543,212.0938 L533,202.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="372" y="219.1606">Authorization successful</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="372" y="234.2935">since Domain1 is in the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="372" y="249.4263">witnessing list.</text><polygon fill="#181818" points="769.5,279.625,779.5,283.625,769.5,287.625,773.5,283.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="775.5" y1="283.625" y2="283.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="254" y="278.5591">Offer activity</text><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="833.5" y1="343.0234" y2="343.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="833.5" x2="833.5" y1="343.0234" y2="356.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="792.5" x2="833.5" y1="356.0234" y2="356.0234"/><polygon fill="#181818" points="802.5,352.0234,792.5,356.0234,802.5,360.0234,798.5,356.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="798.5" y="307.6919">Authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="798.5" y="322.8247">Domain1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="798.5" y="337.9575">using HTTP signature</text><polygon fill="#181818" points="253,381.1563,243,385.1563,253,389.1563,249,385.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="780.5" y1="385.1563" y2="385.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="259" y="380.0903">OK</text><polygon fill="#181818" points="695,410.2891,705,414.2891,695,418.2891,699,414.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="701" y1="414.2891" y2="414.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="565" y="409.2231">Add VCT</text><polygon fill="#181818" points="569,439.4219,559,443.4219,569,447.4219,565,443.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="563" x2="711" y1="443.4219" y2="443.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="575" y="438.356">OK</text><polygon fill="#181818" points="258,468.5547,248,472.5547,258,476.5547,254,472.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="252" x2="547" y1="472.5547" y2="472.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="264" y="467.4888">Accept activity</text><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="289" y1="531.9531" y2="531.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="289" y1="531.9531" y2="544.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="248" x2="289" y1="544.9531" y2="544.9531"/><polygon fill="#181818" points="258,540.9531,248,544.9531,258,548.9531,254,544.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="254" y="496.6216">Authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="254" y="511.7544">Domain2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="254" y="526.8872">using HTTP signature</text><polygon fill="#181818" points="541,570.0859,551,574.0859,541,578.0859,545,574.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="547" y1="574.0859" y2="574.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="254" y="569.02">OK</text><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="289" y1="627.418" y2="627.418"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="289" y1="627.418" y2="640.418"/><line style="stroke:#181818;stroke-width:1.0;" x1="242" x2="289" y1="640.418" y2="640.418"/><polygon fill="#181818" points="252,636.418,242,640.418,252,644.418,248,640.418" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="254" y="607.2192">Add proof from Domain3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="254" y="622.3521">and check Witness Policy</text><path d="M66,587.0859 L66,642.0859 L232,642.0859 L232,597.0859 L222,587.0859 L66,587.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M222,587.0859 L222,597.0859 L232,597.0859 L222,587.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="72" y="604.1528">We don't have enough</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="72" y="619.2856">proofs (according to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="72" y="634.4185">Witness Policy).</text><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="833.5" y1="683.75" y2="683.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="833.5" x2="833.5" y1="683.75" y2="696.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="792.5" x2="833.5" y1="696.75" y2="696.75"/><polygon fill="#181818" points="802.5,692.75,792.5,696.75,802.5,700.75,798.5,696.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="798.5" y="663.5513">Authorize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="798.5" y="678.6841">Domain1</text><path d="M545,655.9844 L545,695.9844 L776,695.9844 L776,665.9844 L766,655.9844 L545,655.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M766,655.9844 L766,665.9844 L776,665.9844 L766,655.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="551" y="673.0513">Authorization successful since</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="551" y="688.1841">Domain1 is in the witnessing list.</text><polygon fill="#181818" points="928.5,721.8828,938.5,725.8828,928.5,729.8828,932.5,725.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="934.5" y1="725.8828" y2="725.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="798.5" y="720.8169">Add to VCT</text><polygon fill="#181818" points="802.5,751.0156,792.5,755.0156,802.5,759.0156,798.5,755.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="796.5" x2="944.5" y1="755.0156" y2="755.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="808.5" y="749.9497">OK</text><polygon fill="#181818" points="258,780.1484,248,784.1484,258,788.1484,254,784.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="252" x2="780.5" y1="784.1484" y2="784.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="264" y="779.0825">Accept activity</text><polygon fill="#181818" points="774.5,809.2813,784.5,813.2813,774.5,817.2813,778.5,813.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="780.5" y1="813.2813" y2="813.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="254" y="808.2153">OK</text><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="289" y1="857.5469" y2="857.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="289" x2="289" y1="857.5469" y2="870.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="248" x2="289" y1="870.5469" y2="870.5469"/><polygon fill="#181818" points="258,866.5469,248,870.5469,258,874.5469,254,870.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="254" y="837.3481">Add proof from Domain3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="254" y="852.481">and check Witness Policy</text><path d="M49,829.7813 L49,869.7813 L232,869.7813 L232,839.7813 L222,829.7813 L49,829.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M222,829.7813 L222,839.7813 L232,839.7813 L222,829.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="55" y="846.8481">We have enough proofs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="55" y="861.981">according Witness Policy.</text><polygon fill="#181818" points="410,928.9453,420,932.9453,410,936.9453,414,932.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="247" x2="416" y1="932.9453" y2="932.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="254" y="927.8794">Anchor linkset message</text><path d="M5,883.5469 L5,968.5469 L232,968.5469 L232,893.5469 L222,883.5469 L5,883.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M222,883.5469 L222,893.5469 L232,893.5469 L222,883.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="11" y="900.6138">Construct anchor linkset with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="11" y="915.7466">proofs from Domain1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="11" y="930.8794">Domain2 and post to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="11" y="946.0122">orb.anchor_linkset queue, which</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="11" y="961.145">is consumed by Batch Writer.</text><polygon fill="#181818" points="253,991.3438,243,995.3438,253,999.3438,249,995.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="247" x2="426" y1="995.3438" y2="995.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="259" y="990.2778">OK</text><!--MD5=[9db3ff2e4b8299ff33a04fb9a2a7bff3]
@startuml
'https://plantuml.com/sequence-diagram

box Domain1 #White
participant Domain1
queue "orb.anchor_linkset" as anchorLinksetQueue
end box

box Domain2
participant Domain2
participant VCT2
end box

box Domain3 #White
participant Domain3
participant VCT3
end box

activate Domain1
Domain1 -> Domain2: Offer activity

activate Domain2

Domain2 -> Domain2: Authenticate\nDomain1\nusing HTTP signature
Domain2 - -> Domain1: OK
Domain2 -> Domain2: Authorize\nDomain1

note left
Authorization successful
since Domain1 is in the
witnessing list.
end note

Domain1 -> Domain3: Offer activity

activate Domain3

Domain3 -> Domain3: Authenticate\nDomain1\nusing HTTP signature

Domain3 - -> Domain1: OK

deactivate Domain1

Domain2 -> VCT2: Add VCT
activate VCT2
VCT2 - -> Domain2: OK
deactivate VCT2
Domain2 -> Domain1: Accept activity

activate Domain1
Domain1 -> Domain1: Authenticate\nDomain2\nusing HTTP signature

Domain1 - -> Domain2: OK

deactivate Domain2


Domain1 -> Domain1: Add proof from Domain3\nand check Witness Policy
note left
We don't have enough
proofs (according to
Witness Policy).
end note

deactivate Domain1

Domain3 -> Domain3: Authorize\nDomain1

note left
Authorization successful since
Domain1 is in the witnessing list.
end note

Domain3 -> VCT3: Add to VCT
activate VCT3
VCT3 - -> Domain3: OK
deactivate VCT3
Domain3 -> Domain1: Accept activity

activate Domain1

Domain1 - -> Domain3: OK

deactivate Domain3

Domain1 -> Domain1: Add proof from Domain3\nand check Witness Policy

note left
We have enough proofs
according Witness Policy.
end note

Domain1 -> anchorLinksetQueue: Anchor linkset message

activate anchorLinksetQueue

note left
Construct anchor linkset with
proofs from Domain1 and
Domain2 and post to
orb.anchor_linkset queue, which
is consumed by Batch Writer.
end note

anchorLinksetQueue - -> Domain1: OK

deactivate anchorLinksetQueue

deactivate Domain1
@enduml

@startuml

box Domain1 #White
participant Domain1
queue "orb.anchor_linkset" as anchorLinksetQueue
end box

box Domain2
participant Domain2
participant VCT2
end box

box Domain3 #White
participant Domain3
participant VCT3
end box

activate Domain1
Domain1 -> Domain2: Offer activity

activate Domain2

Domain2 -> Domain2: Authenticate\nDomain1\nusing HTTP signature
Domain2 - -> Domain1: OK
Domain2 -> Domain2: Authorize\nDomain1

note left
Authorization successful
since Domain1 is in the
witnessing list.
end note

Domain1 -> Domain3: Offer activity

activate Domain3

Domain3 -> Domain3: Authenticate\nDomain1\nusing HTTP signature

Domain3 - -> Domain1: OK

deactivate Domain1

Domain2 -> VCT2: Add VCT
activate VCT2
VCT2 - -> Domain2: OK
deactivate VCT2
Domain2 -> Domain1: Accept activity

activate Domain1
Domain1 -> Domain1: Authenticate\nDomain2\nusing HTTP signature

Domain1 - -> Domain2: OK

deactivate Domain2


Domain1 -> Domain1: Add proof from Domain3\nand check Witness Policy
note left
We don't have enough
proofs (according to
Witness Policy).
end note

deactivate Domain1

Domain3 -> Domain3: Authorize\nDomain1

note left
Authorization successful since
Domain1 is in the witnessing list.
end note

Domain3 -> VCT3: Add to VCT
activate VCT3
VCT3 - -> Domain3: OK
deactivate VCT3
Domain3 -> Domain1: Accept activity

activate Domain1

Domain1 - -> Domain3: OK

deactivate Domain3

Domain1 -> Domain1: Add proof from Domain3\nand check Witness Policy

note left
We have enough proofs
according Witness Policy.
end note

Domain1 -> anchorLinksetQueue: Anchor linkset message

activate anchorLinksetQueue

note left
Construct anchor linkset with
proofs from Domain1 and
Domain2 and post to
orb.anchor_linkset queue, which
is consumed by Batch Writer.
end note

anchorLinksetQueue - -> Domain1: OK

deactivate anchorLinksetQueue

deactivate Domain1
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>